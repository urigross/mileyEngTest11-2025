<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>×”×›× ×” ×œ××‘×—×Ÿ ×‘×× ×’×œ×™×ª - ×ª×¤×¨×™×˜ ×¨××©×™</title>
    <style>
        :root {
            --bg-color: #f0f4f8;
            --blue: #5c9ce6;
            --red: #c94e40;
            --green: #6ab065;
            --orange: #d98e2e;
            --purple: #8e65b0;
            --dark-blue: #4a5568;
            --teal: #5aaeb6;
            --yellow: #e6b83b;
            --text-color: #333;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* ×›×•×ª×¨×•×ª ×•× ×™×§×•×“ */
        header {
            text-align: center;
            margin-bottom: 20px;
            width: 100%;
            max-width: 800px;
            position: relative;
        }

        h1 {
            color: #4a90e2;
            margin: 5px 0;
            font-size: 1.8rem;
        }

        h3 {
            color: #666;
            margin: 0;
            font-weight: normal;
        }

        .score-badge {
            background-color: var(--orange);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            position: absolute;
            top: 0;
            right: 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        /* ×›×¤×ª×•×¨ ×”×’×“×¨×•×ª (×—×“×©) */
        .settings-btn-top {
            position: absolute;
            top: 0;
            left: 0;
            background: #fff;
            border: 1px solid #ccc;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            font-size: 1.5rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            transition: transform 0.2s;
        }
        .settings-btn-top:hover { transform: rotate(45deg); }

        /* ×’×¨×™×“ ×”×›×¤×ª×•×¨×™× */
        .menu-grid {
            display: grid;
            grid-template-columns: 1fr 1fr; /* ×©×ª×™ ×¢××•×“×•×ª */
            gap: 15px;
            width: 100%;
            max-width: 800px;
        }

        .game-btn {
            border: none;
            border-radius: 12px;
            padding: 15px;
            color: white;
            font-size: 1.1rem;
            cursor: pointer;
            transition: transform 0.1s, opacity 0.2s;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 0 rgba(0,0,0,0.15);
            min-height: 80px;
            text-decoration: none; /* ×œ××§×¨×” ×©×–×” ×ª×’×™×ª a */
        }

        .game-btn:active {
            transform: translateY(4px);
            box-shadow: none;
        }

        .game-btn span.icon { font-size: 1.5rem; margin-bottom: 5px; }

        /* ×¦×‘×¢×™× ×œ×›×¤×ª×•×¨×™× */
        .btn-blue { background-color: var(--blue); }
        .btn-red { background-color: var(--red); }
        .btn-green { background-color: var(--green); }
        .btn-orange { background-color: var(--orange); }
        .btn-purple { background-color: var(--purple); }
        .btn-dark { background-color: var(--dark-blue); }
        .btn-teal { background-color: var(--teal); }
        .btn-yellow { background-color: var(--yellow); }

        /* ×›×¤×ª×•×¨×™× ×¨×—×‘×™× (×ª×•×¤×¡×™× ××ª ×›×œ ×”×¨×•×—×‘) */
        .full-width { grid-column: span 2; }

        /* ××–×•×¨ ×ª×—×ª×•×Ÿ */
        .bottom-bar {
            display: grid;
            grid-template-columns: 3fr 1fr;
            gap: 15px;
            width: 100%;
            max-width: 800px;
            margin-top: 15px;
        }

        /* --- ×¢×™×¦×•×‘ ×—×œ×•× ×™×ª ×”×’×“×¨×•×ª (MODAL) --- */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.6); z-index: 1000;
            display: none; /* ××•×¡×ª×¨ ×›×‘×¨×™×¨×ª ××—×“×œ */
            justify-content: center; align-items: center;
            backdrop-filter: blur(3px);
        }
        
        .modal-content {
            background: white;
            padding: 25px;
            border-radius: 20px;
            width: 90%;
            max-width: 400px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            animation: popIn 0.3s ease;
        }

        @keyframes popIn {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        .modal-btn {
            display: block; width: 100%; margin: 10px 0; padding: 12px;
            border-radius: 8px; border: 1px solid #ddd;
            background: #f9f9f9; cursor: pointer; font-size: 1rem;
        }
        .modal-btn:hover { background: #eee; }
        .btn-close { background: #333; color: white; border: none; margin-top: 20px; }
        .btn-reset-all { background: #ffebee; color: #d32f2f; border: 1px solid #ffcdd2; font-weight: bold; }

    </style>
</head>
<body>

    <header>
        <div class="score-badge">× ×™×§×•×“: <span id="total-score">0</span></div>
        <button class="settings-btn-top" onclick="openSettings()">âš™ï¸</button>
        <h1>×”×›× ×” ×œ××‘×—×Ÿ ×‘×× ×’×œ×™×ª - ×“' ğŸ“</h1>
        <h3>×›×œ ×”××™×œ×™× + ××©×¤×˜×™×</h3>
    </header>

    <div class="menu-grid">
        <button class="game-btn btn-blue" onclick="navigateTo('write_words.html')">
            <span class="icon">âœï¸</span> ×›×ª×™×‘×ª ××™×œ×™×
        </button>
        <button class="game-btn btn-blue" onclick="navigateTo('listening.html')">
            <span class="icon">ğŸ‘‚</span> ×”×‘× ×ª ×”× ×©××¢
        </button>

        <button class="game-btn btn-blue" onclick="navigateTo('reading.html')">
            <span class="icon">ğŸ“–</span> ×§×¨×™××”
        </button>
        <button class="game-btn btn-blue" onclick="navigateTo('complete_sentences.html')">
            <span class="icon">ğŸ§©</span> ×”×©×œ××ª ××©×¤×˜×™×
        </button>

        <button class="game-btn btn-red full-width" onclick="navigateTo('quick_click.html')">
            <span class="icon">âš¡</span> ×§×œ×™×§ ××”×™×¨
        </button>

        <button class="game-btn btn-green full-width" onclick="navigateTo('sentence_factory.html')">
            <span class="icon">ğŸ­</span> ××¤×¢×œ ×”××©×¤×˜×™×
        </button>

        <button class="game-btn btn-orange" onclick="navigateTo('true_false.html')">
            <span class="icon">âœ…</span> ×××ª ××• ×©×§×¨
        </button>
        <button class="game-btn btn-dark" onclick="navigateTo('bubble_pop.html')">
            <span class="icon">ğŸ«§</span> ×¤×™×¦×•×¥ ×‘×•×¢×•×ª
        </button>

        <button class="game-btn btn-purple full-width" onclick="navigateTo('snake.html')">
            <span class="icon">ğŸ</span> ×¡× ×™×™×§ ××™×œ×™×
        </button>

        <button class="game-btn btn-orange full-width" onclick="navigateTo('memory.html')">
            <span class="icon">ğŸƒ</span> ××©×—×§ ×”×–×™×›×¨×•×Ÿ
        </button>
    </div>

    <div class="bottom-bar">
        <button class="game-btn btn-teal">
            <span class="icon">ğŸ“œ</span> ×¢×“×›×•× ×™×
        </button>
        <button class="game-btn btn-yellow">
            <span class="icon">ğŸ†</span> ×©×™××™×
        </button>
    </div>

    <div id="settingsModal" class="modal-overlay">
        <div class="modal-content">
            <h2>×”×’×“×¨×•×ª ×œ××™×“×”</h2>
            <p>××™×¤×•×¡ ×”×ª×§×“××•×ª ×™×—×–×™×¨ ××ª ×›×œ ×”××™×œ×™× ×œ××©×—×§.</p>
            
            <button class="modal-btn" onclick="learningManager.resetGame('memory_game')">ğŸ”„ ××¤×¡ ××©×—×§ ×”×–×™×›×¨×•×Ÿ</button>
            <button class="modal-btn" onclick="learningManager.resetGame('snake_game')">ğŸ”„ ××¤×¡ ×¡× ×™×™×§</button>
            <button class="modal-btn" onclick="learningManager.resetGame('quiz_game')">ğŸ”„ ××¤×¡ ××‘×—×Ÿ ×××¨×™×§××™</button>
            
            <hr style="border:0; border-top:1px solid #eee; margin:15px 0;">
            
            <button class="modal-btn btn-reset-all" onclick="learningManager.resetAll()">âš ï¸ ××¤×¡ ××ª ×”×›×œ (×›×œ ×”××©×—×§×™×)</button>
            <button class="modal-btn btn-close" onclick="closeSettings()">×¡×’×•×¨</button>
        </div>
    </div>

    <script>
        // === ×× ×”×œ ×”×œ××™×“×” (Learning Manager) ===
        // ××•×‘×™×™×§×˜ ×–×” ×× ×”×œ ××ª ×”×–×™×›×¨×•×Ÿ ×©×œ ×”×“×¤×“×¤×Ÿ
        const learningManager = {
            // ××™×¤×•×¡ ××©×—×§ ×‘×•×“×“
            resetGame: function(gameId) {
                if(confirm("×”×× ××ª×” ×‘×˜×•×— ×©×‘×¨×¦×•× ×š ×œ××¤×¡ ××ª ×”×”×ª×§×“××•×ª ×‘××©×—×§ ×–×”?")) {
                    localStorage.removeItem('known_' + gameId);
                    alert("×”×”×ª×§×“××•×ª ××•×¤×¡×” ×‘×”×¦×œ×—×”!");
                }
            },
            // ××™×¤×•×¡ ×”×›×œ
            resetAll: function() {
                if(confirm("×–×”×™×¨×•×ª: ×¤×¢×•×œ×” ×–×• ×ª××—×§ ××ª ×›×œ ×”×”×ª×§×“××•×ª ×‘×›×œ ×”××©×—×§×™×. ×œ×”××©×™×š?")) {
                    localStorage.clear();
                    alert("×›×œ ×”××©×—×§×™× ××•×¤×¡×• ×•×”×ª×—×™×œ×• ××—×“×©.");
                    document.getElementById('total-score').innerText = '0';
                }
            }
        };

        // === ×¤×•× ×§×¦×™×•×ª ×××©×§ ===

        // × ×™×•×•×˜ ×œ×“×¤×™ ×”××©×—×§×™×
        function navigateTo(pageUrl) {
            // ×›××Ÿ ×”××¢×¨×›×ª ×ª×¢×‘×•×¨ ×œ×“×£ ×”××©×—×§.
            // ×©×™× ×œ×‘: ×¢×œ×™×š ×œ×•×•×“× ×©×§×•×‘×¦×™ ×”-html ×©×œ ×”××©×—×§×™× (×›××• snake.html) × ××¦××™× ×‘××•×ª×” ×ª×™×§×™×™×”.
            window.location.href = pageUrl;
        }

        // ×¤×ª×™×—×ª ×•×¡×’×™×¨×ª ×”×’×“×¨×•×ª
        function openSettings() {
            document.getElementById('settingsModal').style.display = 'flex';
        }

        function closeSettings() {
            document.getElementById('settingsModal').style.display = 'none';
        }

        // ×˜×¢×™× ×ª × ×™×§×•×“ (×“×•×’××”)
        window.onload = function() {
            // ×›××Ÿ ××¤×©×¨ ×œ×”×•×¡×™×£ ×œ×•×’×™×§×” ×œ×˜×¢×™× ×ª ×”× ×™×§×•×“ ×”×›×œ×œ×™ ×× ×©××¨×ª ××•×ª×•
            // ×›×¨×’×¢ ×–×” ×¨×§ ×“×•×’××”:
            const savedScore = localStorage.getItem('totalScore') || 0;
            document.getElementById('total-score').innerText = savedScore;
        };
    </script>
</body>
</html>
